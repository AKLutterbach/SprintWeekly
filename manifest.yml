app:
  id: ari:cloud:ecosystem::app/c4f2a82d-82a8-48a5-8d53-ed801749f46f
  runtime:
    name: nodejs22.x
    architecture: arm64
    memoryMB: 256

modules:
  function:
    - key: resolver
      handler: resolvers/index.handler
  jira:globalPage:
    - key: weekly-digest-global
      resource: main
      resolver:
        function: resolver
      render: native
      title: Sprint Weekly
      icon: https://raw.githubusercontent.com/atlassian/forge-icons/main/icons/app-icons/jira-issue.svg
      layout: basic
  jira:projectPage:
    - key: sprint-weekly-custom-page
      resource: sprint-report-ui
      resolver:
        function: resolver
      title: Sprint Weekly (Custom)
      layout: blank
resources:
  - key: main
    path: src/frontend/index.jsx
  - key: sprint-report-ui
    path: static/sprint-report/build

permissions:
  scopes:
    - read:jira-work
    - read:issue:jira
    - read:project:jira
    - read:filter:jira
    - read:issue-details:jira
    - read:board-scope:jira-software
    - read:board-scope.admin:jira-software
    # Optional: allow uploads when we implement attachment exports
    # - write:attachment:jira
