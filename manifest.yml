app:
  id: ari:cloud:ecosystem::app/c4f2a82d-82a8-48a5-8d53-ed801749f46f
  description: Generate clear, client-ready sprint reports from Jira in seconds.
  # Enable licensing to allow paid tiers in Atlassian Marketplace
  licensing:
    enabled: true
  runtime:
    name: nodejs22.x
    architecture: arm64
    memoryMB: 256

modules:
  function:
    - key: resolver
      handler: resolvers/index.handler
  jira:globalPage:
    - key: weekly-digest-global
      resource: sprint-report-ui
      resolver:
        function: resolver
      title: Sprint Weekly
      layout: blank
      icon: https://raw.githubusercontent.com/AKLutterbach/SprintWeekly/master/static/SprintWeeklyLogo.png
  jira:projectPage:
    - key: sprint-weekly-custom-page
      resource: sprint-report-ui
      resolver:
        function: resolver
      title: Sprint Report
      layout: blank
resources:
  - key: sprint-report-ui
    path: static/sprint-report/build

permissions:
  scopes:
    - read:jira-work              # Required for JQL search to fetch sprint issues
    - read:issue:jira             # Required to read issue details (summary, status, assignee)
    - read:project:jira           # Required to list and fetch project details
    - read:issue-details:jira     # Required for custom field access (story points, labels)
    - read:sprint:jira-software   # Required to fetch sprint details (name, dates)
